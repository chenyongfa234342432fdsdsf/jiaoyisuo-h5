"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.findBuildEntry = void 0;
const utils_1 = require("./utils");
function findBuildEntry(entryName, rollupBundle) {
    let entryFound;
    const entries = Object.keys(rollupBundle);
    for (const entry of entries) {
        if (entry.endsWith('.map'))
            continue; // https://github.com/brillout/vite-plugin-ssr/issues/612
        (0, utils_1.assert)(!entryName.includes('.'));
        if (entryName === entry.split('.')[0]) {
            (0, utils_1.assert)(!entryFound);
            entryFound = entry;
        }
    }
    if (!entryFound) {
        const entriesStr = entries.map((e) => `'${e}'`).join(', ');
        throw new Error(`Cannot find build entry '${entryName}'. Make sure your Rollup config doesn't change the entry name '${entryName}'. (Found entries: [${entriesStr}].)`);
    }
    return entryFound;
}
exports.findBuildEntry = findBuildEntry;
